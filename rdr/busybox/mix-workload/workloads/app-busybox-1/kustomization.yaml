apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ../../../base

namePrefix: mix-workload-
patches:
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-1
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: rbd-busybox-pvc-1
  target:
    kind: Deployment
    name: busybox-1
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-2
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: rbd-busybox-pvc-2
  target:
    kind: Deployment
    name: busybox-2
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-3
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: rbd-busybox-pvc-3
  target:
    kind: Deployment
    name: busybox-3
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-4
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: rbd-busybox-pvc-4
  target:
    kind: Deployment
    name: busybox-4
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-5
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: rbd-busybox-pvc-5
  target:
    kind: Deployment
    name: busybox-5
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-1
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: cephfs-busybox-pvc-1
  target:
    kind: Deployment
    name: busybox-6
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-2
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: cephfs-busybox-pvc-2
  target:
    kind: Deployment
    name: busybox-7
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-3
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: cephfs-busybox-pvc-3
  target:
    kind: Deployment
    name: busybox-8
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-4
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: cephfs-busybox-pvc-4
  target:
    kind: Deployment
    name: busybox-9
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-5
    - op: replace
      path: /spec/template/spec/volumes/0/persistentVolumeClaim/claimName
      value: cephfs-busybox-pvc-5
  target:
    kind: Deployment
    name: busybox-10




- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-pvc-1
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-1
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-pvc-2
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-2
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-pvc-3
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-3
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-pvc-4
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-4
- patch: |-
    - op: replace
      path: /metadata/name
      value: rbd-busybox-pvc-5
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-5
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-pvc-1
    - op: replace
      path: /spec/accessModes/0
      value: ReadWriteMany
    - op: replace
      path: /spec/storageClassName
      value: ocs-storagecluster-cephfs
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-6
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-pvc-2
    - op: replace
      path: /spec/accessModes/0
      value: ReadWriteMany
    - op: replace
      path: /spec/storageClassName
      value: ocs-storagecluster-cephfs
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-7
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-pvc-3
    - op: replace
      path: /spec/accessModes/0
      value: ReadWriteMany
    - op: replace
      path: /spec/storageClassName
      value: ocs-storagecluster-cephfs
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-8
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-pvc-4
    - op: replace
      path: /spec/accessModes/0
      value: ReadWriteMany
    - op: replace
      path: /spec/storageClassName
      value: ocs-storagecluster-cephfs
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-9
- patch: |-
    - op: replace
      path: /metadata/name
      value: cephfs-busybox-pvc-5
    - op: replace
      path: /spec/accessModes/0
      value: ReadWriteMany
    - op: replace
      path: /spec/storageClassName
      value: ocs-storagecluster-cephfs
  target:
    kind: PersistentVolumeClaim
    name: busybox-pvc-10
- patch: |-
    - op: add
      path: /metadata/labels/appname
      value: busybox_app_mix
  target:
    kind: PersistentVolumeClaim
